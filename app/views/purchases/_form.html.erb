<%= simple_form_for(@purchase, html: { class: 'form-vertical' },
                    wrapper: :vertical_input_group,
                    wrapper_mappings: {
                            check_boxes: :vertical_radio_and_checkboxes,
                            radio_buttons: :vertical_radio_and_checkboxes,
                            file: :vertical_file_input,
                            boolean: :vertical_boolean
                    }) do |f| %>
    <div class="row">
      <div class="col-md-8">
        <%= f.association :vendor, label: "Fornecedor", label_method: :full_name, value_method: :id, collection: Vendor.all.order(:full_name), prompt: "Escolha o fornecedor" %>
      </div>
      <div class="form-inputs col-md-2">
        <%= f.input :total_price, label: "Preço Total", wrapper: :vertical_input_group do %>
            <span class="input-group-addon">R$</span>
            <%= f.input_field :total_price, class: "form-control" %>
        <% end %>
      </div>
    </div>
    <%= f.simple_fields_for :items do |i| %>
        <div class="row">
          <div class="col-md-7">
            <%= i.association :product, label: "Produto", label_method: :full_name, value_method: :id, collection: Product.all.order(:full_name), prompt: "Escolha o produto" %>
          </div>
          <div class="col-md-1">
            <%= i.input :quantity %>
          </div>
          <div class="form-inputs col-md-2">
            <%= i.input :unit_price, label: "Preço Unitário", wrapper: :vertical_input_group do %>
                <span class="input-group-addon">R$</span>
                <%= i.input_field :unit_price, class: "form-control" %>
            <% end %>
          </div>
        </div>
    <% end %>
    <%= f.button :submit, class: 'btn btn-primary' %>
    <%= link_to "Cancelar", purchases_url, {:class=>"btn btn-danger"} %>
<% end %>